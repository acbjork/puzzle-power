
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Puzzle Power â€“ Winner Highlighting</title>
  <style>
    body { font-family: sans-serif; padding: 1rem; background: #f7f7f7; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; vertical-align: top; }
    .winner { background: #d4edda; font-weight: bold; }
    textarea { width: 100%; height: 60px; }
    button { padding: 0.5rem 1rem; background: #007aff; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>ðŸ§© Puzzle Power â€“ Winner Highlighting (Increment 1)</h1>
  <table>
    <thead>
      <tr>
        <th>Puzzle</th>
        <th>Adam</th>
        <th>Jonathan</th>
        <th>Winner</th>
      </tr>
    </thead>
    <tbody id="puzzle-rows"></tbody>
  </table>

  <script>
    const puzzles = ["Connections", "Strands", "Wordle", "Mini Crossword"];
    const dummyResults = {
      Adam: {
        "Connections": "4 guesses",
        "Strands": "9 guesses, 1 hint",
        "Wordle": "5/6",
        "Mini Crossword": "1:12"
      },
      Jonathan: {
        "Connections": "5 guesses",
        "Strands": "9 guesses, 2 hints",
        "Wordle": "4/6",
        "Mini Crossword": "1:18"
      }
    };

    function determineWinner(puzzle, aResult, jResult) {
      const parseTime = s => {
        const parts = s.split(":");
        return parts.length === 2 ? (parseInt(parts[0]) * 60 + parseInt(parts[1])) : Infinity;
      };

      if (!aResult || !jResult) return "";
      if (puzzle === "Mini Crossword") {
        const a = parseTime(aResult);
        const j = parseTime(jResult);
        if (a < j) return "Adam";
        if (j < a) return "Jonathan";
        return "Tie";
      }
      if (puzzle === "Wordle") {
        const a = parseInt(aResult?.[0]);
        const j = parseInt(jResult?.[0]);
        if (a < j) return "Adam";
        if (j < a) return "Jonathan";
        return "Tie";
      }
      if (puzzle === "Connections" || puzzle === "Strands") {
        const a = parseInt(aResult);
        const j = parseInt(jResult);
        if (a < j) return "Adam";
        if (j < a) return "Jonathan";
        return "Tie";
      }
      return "";
    }

    const tbody = document.getElementById("puzzle-rows");
    puzzles.forEach(puzzle => {
      const row = document.createElement("tr");
      const winner = determineWinner(puzzle, dummyResults.Adam[puzzle], dummyResults.Jonathan[puzzle]);

      const td1 = document.createElement("td");
      td1.textContent = puzzle;

      const td2 = document.createElement("td");
      td2.textContent = dummyResults.Adam[puzzle];
      if (winner === "Adam") td2.className = "winner";

      const td3 = document.createElement("td");
      td3.textContent = dummyResults.Jonathan[puzzle];
      if (winner === "Jonathan") td3.className = "winner";

      const td4 = document.createElement("td");
      td4.textContent = winner || "";

      row.appendChild(td1);
      row.appendChild(td2);
      row.appendChild(td3);
      row.appendChild(td4);
      tbody.appendChild(row);
    });
  </script>
</body>
</html>
